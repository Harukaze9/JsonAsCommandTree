{
    "__exec": "jact list",
    "help": {
        "__exec": "echo 'jact list: Show list of installed commands and scripts by JACT\njact install: Intall specified file (.json or .sh)\njact uninstall: Uninstall specified file (.json or .sh)'"
    },
    "_refresh": {
        "__exec": "source ${__jact_root_dir}/source-jact.sh"
    },
    "refresh": {
        "__exec": "jact _refresh; echo 'refresh completed!'"
    },
    "_list_commands": {
        "__exec": "find ${__jact_source_dir} -maxdepth 1 \\( -type f -o -type l \\) -name '*.json' | sed -E 's|.*\/([^\/]+)\\.json$|\\1\t(&)|'"
    },
    "_list_scripts": {
        "__exec": "find ${__jact_source_dir} -maxdepth 1 \\( -type f -o -type l \\) -name '*.sh' | sed -E 's|.*\/([^\/]+)\\.sh$|\\1.sh\t(&)|'"
    },
    "_list_packages": {
        "__exec": "find ${__jact_packages_dir} -maxdepth 1 -type f \\( -name '*.sh' -o -name '*.json' \\)  -exec basename {} \\;"
    },
    "packages": {
        "__exec": "jact packages list",
        "list": {
            "__exec": "echo -e \"[JACT packages]\\n======================\\n`jact _list_packages`\\n======================\""
        },
        "install": {
            "__exec": "jact install ${__jact_packages_dir}/{0}",
            "__0": "jact _list_packages"
        },
        "uninstall": {
            "__exec": "jact uninstall {0}",
            "__0": "find ${__jact_source_dir} -maxdepth 1  \\( -type f -o -type l \\) \\( -name '*.json' -or -name '*.sh' \\) -exec basename {} \\;"
        }
    },
    "list": {
        "__exec": "echo -e \"[JACT installed list]\\n====== [commands] ========\\n`jact _list_commands`\\n====== [scripts] =========\\n`jact _list_scripts` \\n==========================\""
    },
    "install": {
        "__exec": "ln -s $(realpath {0}) ${__jact_source_dir} && jact _refresh && jact _exec-install-command {0} && echo '[{0}] is installed!\n' && jact list"
    },
    "_exec-install-command": {
        "__exec": "[[ {0} =~ \".json\" ]] && r=`jq -r \".__on_install\" {0}` && [[ $r != null ]] && eval $r && echo finished runnning on install command"
    },
    "uninstall": {
        "__exec": "rm ${__jact_source_dir}/{0} && echo '[{0}] is uninstalled!\n' && jact _refresh && jact list",
        "__0": "find ${__jact_source_dir} -maxdepth 1  \\( -type f -o -type l \\) \\( -name '*.json' -or -name '*.sh' \\) -exec basename {} \\;"
    },
    "edit": {
        "__exec": "vim $(realpath ${__jact_source_dir}/{0})",
        "__0": "find ${__jact_source_dir} -maxdepth 1  \\( -type f -o -type l \\) \\( -name '*.json' -or -name '*.sh' \\) -exec basename {} \\;"
    },
    "rename": {
        "__exec": "mv ${__jact_source_dir}/{0}.json ${__jact_source_dir}/{1}.json; jact _refresh",
        "__0": "find ${__jact_source_dir} -maxdepth 1  \\( -type f -o -type l \\) -name '*.json' -exec basename {} .json \\;"
    }
}